"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const AdminController_1 = require("../controllers/AdminController");
const auth_1 = require("../middlewares/auth");
const uploadMiddleware_1 = require("../middlewares/uploadMiddleware");
const adminRoutes = (0, express_1.Router)();
adminRoutes.post('/login', AdminController_1.adminController.login);
adminRoutes.use(auth_1.authMiddleware, auth_1.isAdmin);
adminRoutes.get('/users', AdminController_1.adminController.getAllUsers);
adminRoutes.delete('/users/:id', AdminController_1.adminController.deleteUser);
adminRoutes.get('/clients', AdminController_1.adminController.getAllClients);
adminRoutes.put('/clients/:id', AdminController_1.adminController.updateClient);
adminRoutes.get('/brokers', AdminController_1.adminController.getAllBrokers);
adminRoutes.get('/brokers/pending', AdminController_1.adminController.listPendingBrokers);
adminRoutes.patch('/brokers/:id/approve', AdminController_1.adminController.approveBroker);
adminRoutes.patch('/brokers/:id/reject', AdminController_1.adminController.rejectBroker);
adminRoutes.put('/brokers/:id', AdminController_1.adminController.updateBroker);
adminRoutes.delete('/brokers/:id', AdminController_1.adminController.deleteBroker);
adminRoutes.get('/properties-with-brokers', AdminController_1.adminController.listPropertiesWithBrokers);
adminRoutes.put('/properties/:id', AdminController_1.adminController.updateProperty);
adminRoutes.delete('/properties/:id', AdminController_1.adminController.deleteProperty);
adminRoutes.patch('/properties/:id/approve', AdminController_1.adminController.approveProperty);
adminRoutes.patch('/properties/:id/reject', AdminController_1.adminController.rejectProperty);
adminRoutes.post('/properties/:id/images', uploadMiddleware_1.mediaUpload.array('images', 20), AdminController_1.adminController.addPropertyImage);
adminRoutes.delete('/properties/images/:imageId', AdminController_1.adminController.deletePropertyImage);
adminRoutes.get('/dashboard/stats', AdminController_1.adminController.getDashboardStats);
exports.default = adminRoutes;
